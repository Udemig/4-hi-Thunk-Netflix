<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Netflix</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css"
      integrity="sha512-t4GWSVZO1eC8BM339Xd7Uphw5s17a86tIZIj8qRxhnKub6WoyhnrxeCIMeAqBPgdZGlCcG2PrZjMc+Wr78+5Xg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script>
      console.dir(document);
      function MovingTitle(writeText, interval, visibleLetters) {
        var _instance = {};

        var _currId = 0;
        var _numberOfLetters = writeText.length;

        function updateTitle() {
          _currId += 1;
          if (_currId > _numberOfLetters - 1) {
            _currId = 0;
          }

          var startId = _currId;
          var endId = startId + visibleLetters;
          var finalText;
          if (endId < _numberOfLetters - 1) {
            finalText = writeText.substring(startId, endId);
          } else {
            var cappedEndId = _numberOfLetters;
            endId = endId - cappedEndId;

            finalText =
              writeText.substring(startId, cappedEndId) + writeText.substring(0, endId);
          }

          document.title = finalText;
        }

        _instance.init = function () {
          setInterval(updateTitle, interval);
        };

        return _instance;
      }
      document.addEventListener('visibilitychange', (event) => {
        if (document.visibilityState == 'visible') {
          document.title = 'Netflix';
        } else {
          document.title = 'John Wick Çıktı';
          var title = new MovingTitle('John Wick Çıktı... ', 300, 10);
          title.init();
        }
      });
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
